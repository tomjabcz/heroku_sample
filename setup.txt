todo: udělat testovaci scénáře - zatím, ať se to aspoň rozběhne s jedním a použitím jwt

res = self.client().get("/categories", headers={"Authorization": f"Bearer {self.jwt_token}"})


$Env:DATABASE_URL="postgresql://postgres:password@localhost:5432/postgres"
$Env:EXCITED="true"


$Env:DATABASE_URL="postgres://u5fgk8tci9kbre:p685cc7da8f6459385b5930688f2ac77263801578512ee453c2714051fc38ecd4@cb5ajfjosdpmil.cluster-czrs8kj4isg7.us-east-1.rds.amazonaws.com:5432/d47mt8do1nfdlq"

how to get JWT token (in url in redirect - it must be https):
login page: <otestovat, ze kdyz se tam prihlasim, tak mi to ulozi token, ktery se potom pouziva>
https://dev-r1xbvsu7shcbuwgw.us.auth0.com/authorize?
audience=coffee&
response_type=token&
client_id=c0c2Uu3pGp4MrtgB2JZ7VRmoDwge2zd2&
redirect_uri=http://localhost:5000/info


test endpoint
curl --request GET \
  --url http://192.168.240.50:5000/movies \
  --header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjIxMDAsImV4cCI6MTcyNzIwODUwMCwic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImRlbGV0ZTpkcmlua3MiLCJnZXQ6ZHJpbmtzIiwiZ2V0OmRyaW5rcy1kZXRhaWwiLCJwYXRjaDpkcmlua3MiLCJwb3N0OmRyaW5rcyJdfQ.dI0_mj1CiMn8-5eNsRWA1HHxCSb8OE6CpXhh7wk85QefCr0PxXdRyLPdOhduqetJk7k_UzrwMxvYzMO3_8wnb-rx8gWYWiN4QUyn2SbaPhIPizYOFokjHNf4YUJzqn7fQMMdkO0wVoEYkBFTXnwEX_bk3UaZdWdBsrMX4c57A1tEvK6W9-7dV70kMARNxHb7qZc9UISsQMXf1R-EcD_4dPhiYJcoRYY1Yh5W6V8iRKDgCafOBTZELn7um3uo2nwafTYMYp0-4eTQv7Z7FVpVpQI-EmMKDip-2djDJl9XL9b4J2WuIE-i5ECXGb8O9kw5szvzxWhVQgYS54bIaR_JKQ'


to get token
curl --request POST   --url https://dev-r1xbvsu7shcbuwgw.us.auth0.com/oauth/token   --header 'content-type: application/json'   --data '{"client_id":"NAtMzealnODOoe2oyIvxvQMpWmcXritp","client_secret":"-KGU3idUW-5uYTODT2U0ExjTIRZFRB9cq7gXSzj8d16VJAx7NmdKhpSE7kMuLI2x","audience":"coffee","grant_type":"client_credentials"}'


tokens:
assistant: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjU1MDksImV4cCI6MTcyNzIxMTkwOSwic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbInJlYWQ6YWxsIl19.TzvQRfLN74IlL3qB8HM6U5JdlA4tUtt16ib7hEOoEPTXvlMM_J0LQVFvpaMNxfGcpPDNvQuTPYOlxqrmF5ojHOXdhmNcZlz2jqqHasTcH2DFxdwLBj_5Sau1oLV6g9rmb1zoxD0OzaLTtAecDZ236_BkXg-stCOWXWl-leatgOGD9pZm-jQlk_5pnPyzdRJGmf5uprrVua_2s6HYyqadJG6IhpFlGuoXT7yXrnYW7KQcuc07mJ2fLgDfQtzkW7DiVwCFNM_QSv0VZancsnggWYy_6026xd-EfEHCScn3U_Th6IRrWcRzF-Aj8KcVeKIbZMrEiPda4aKCI1VJyXzScw
manager: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjY0ODUsImV4cCI6MTcyNzIxMjg4NSwic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJyZWFkOmFsbCIsInVwZGF0ZTphbGwiXX0.Dw19WnWKpxZSRMCUiQ8bCgZB2fJ9pFYMipMcTBgd978yASq2IzgocG05hgLUGqhN3LxUNMITrGPxlG7qZsAgQ1Dztn2HeNY2rHpr7bqzfXI0jQ276HWwpEG0IJHIGmKsNVTLvent6K-kbS-rR7uzBG6kVGrREKoRIkJMvojGxUShQDQ6w5Q6OOSJb9RaYGguuzEsk4wn5Y161tJGUVq-HswLYpYOmo6fIZDup6nJibx6c62ylMRGWmaSOPOus5qczPXDmJN52y7OWtpSwThcC0y3C5H4hXi4OkVKEGROwNQ8I6CHAUW9tWNZkXzPK13MJ0gVopNHjJ2Sg5J7C8CY3g
director: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw


test movie post
curl -X POST 192.168.240.50:5000/movies -d '{"title" : "novy_film", "release_date" : "2024-12-24", "actors": [1,2]}' -H "Content-Type: application/json"  -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'

test movie patch
curl -X PATCH 192.168.240.50:5000/movies/6 -d '{"title" : "novy_film2", "release_date" : "2024-12-25"}' -H "Content-Type: application/json"  -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'

test movie delete
curl -X DELETE 192.168.240.50:5000/movies/6 -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'


test actor post
curl -X POST 192.168.240.50:5000/actors -d '{"name" : "Mike", "age" : "101", "gender": "IT"}' -H "Content-Type: application/json"  -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'

test actor patch
curl -X PATCH 192.168.240.50:5000/actors/11 -d '{"gender": "male"}' -H "Content-Type: application/json"  -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'

test actor delete
curl -X DELETE 192.168.240.50:5000/actors/11 -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRHOXhrMVNxU3loUndyTWJfUzVLOSJ9.eyJpc3MiOiJodHRwczovL2Rldi1yMXhidnN1N3NoY2J1d2d3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NmNjZTkyZTA0OGI5MWRlMDM4OTk2NGMiLCJhdWQiOiJjb2ZmZWUiLCJpYXQiOjE3MjcxMjcyOTcsImV4cCI6MTcyNzIxMzY5Nywic2NvcGUiOiIiLCJhenAiOiJjMGMyVXUzcEdwNE1ydGdCMkpaN1ZSbW9Ed2dlMnpkMiIsInBlcm1pc3Npb25zIjpbImNyZWF0ZS1kZWxldGU6YWN0b3IiLCJjcmVhdGUtZGVsZXRlOm1vdmllIiwicmVhZDphbGwiLCJ1cGRhdGU6YWxsIl19.J8tSSYqdtdZHCLaXh14KVPysFk_xQNV6zJXOhccx-SgC_ttXHemxXLnX7mWdjn5wJmB9Gbupx_T3dmD1aEwXFZrGBHDxSu1oze38zNaSqq6N_CnkAP543Nt8A19nHb2E8jocld_6ZQPKOFD21rJ4ViOVs0OxuYXHUVhzNEdxj1bL8A-WNPZxj0Mu2o5FbfyV7fr72aeMNhuC1-6YESwfSFg2XNMgh-r-0IZcAzMidIytCuNWk6SDMLtZrwYFCfotHKdBiKqr8hZdCKjLcQ5ndWpgWj-aPuBZ0L0hRawIgNeGJ9bwPGdY_hLdOl4SrH8RU-V5JkMopBU4tqH-YHpkhw'